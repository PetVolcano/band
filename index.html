<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>Pet Volcano Home</title>
    <link href="home2.css" rel="stylesheet" type="text/css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
<div class="parallax-container">
    <div class="parallax-layer bg-layer">
        <img src="sky.jpg" alt="bg" id="bg-image" class="parallax-image" />
    </div>
    <div class="parallax-layer layer3">
        <img src="image3.gif" alt="layer3" id="layer3" class="parallax-image" />
    </div>
    <div class="parallax-layer layer0">
        <img src="Erupting-Volcano-smoke.gif" alt="layer4" id="layer4" class="parallax-image" />
    </div>
	<div class="parallax-layer layer1">
        <img src="image1.png" alt="layer1" id="layer1" class="parallax-image" />
    </div>
    <div class="parallax-layer layer2">
        <img src="image2.png" alt="layer2" id="layer2" class="parallax-image" />
    </div>
    <div class="content-layer lightit">
       <p id="home" class="button">
          <button id="scroll-to-hiding"><span>&#8595; Light it on Fire! &#8595;</span></button>
       </p>
    </div>	
	<div class="zombie-layer">
		<h3 id="zombride"><span>&#8595;</span>Scroll, Click<span>&#8595;</span></h3>
	<div class="layer5">
		<a href ="https://youtu.be/hZnOpW56WYg?si=ySg_3-Nfzi-uAmOb" aria-label="watch the video for the zombie twist on youtube" target="_blank">
           <img class="button" src="zombie.jpg" alt="zombride"  />
        </a>
    </div>
	<div class="layer5">
		<a href="https://youtu.be/m8UV4bzsOww?si=twvH5__IRE0q1JIm" aria-label="watch the video for beat still on youtube" target="_blank">
           <img class="button" src="beat still still frame.PNG" alt="beat still live" />
        </a>
    </div>
    <div class="layer5">
		<a href="https://youtu.be/hZVH25HIwMA?si=bF6ChPsp3EZ-WtmT" aria-label="watch a live clip of break free live on youtube" target="_blank">
           <img class="button" src="pv spot shot2.png" alt="break free live" />
        </a>
	</div>
	<div class="layer5">
		<a href="https://youtu.be/BgrNd5vQBZA?si=zrEXKcIr50El3gwR" aria-label="watch a live clip of attitude of gratitude on youtube" target="_blank">
           <img class="button" src="petvocolcanocouncil.png" alt="attitude live"/>
        </a>	   
	</div>
    <div class="layer5">
        <a href="https://youtu.be/l4rAZoZzi48?si=tSL_1gHxgC800PWw" aria-label="watch a live clip of beat still on youtube" target="_blank">
           <img class="button" src="marlon.jpg" alt="marlon" id="marlon" />
        </a>
    </div>
    <div class="layer5">
		<a href="https://youtu.be/PVQ3DYnfLxE?si=lfV-wCXh9BstxFZU" aria-label="watch a video clip for je te veux on youtube" target="_blank">
           <img class="button" src="bjk mime.png" alt="mime" />
        </a>
    </div>
	<div class="layer5">
        <a href="https://distrokid.com/hyperfollow/petvolcano/je-te-veux" aria-label="Listen to the song 'Je Te Veux'" target="_blank">
            <img class="button" src="jeteveux balloon2.png" alt="orange" />
        </a>
    </div>
	<div class="layer5">
		<a href="https://distrokid.com/hyperfollow/petvolcano/beat-still" aria-label="Listen to the song 'Beat Still'" target="_blank">
            <img class="button" src="beat still art.png" alt="new image 2" />
        </a>
    </div>
	<div class="layer5">
        <a href="https://distrokid.com/hyperfollow/petvolcano/break-free" aria-label="Listen to the song 'Break Free'" target="_blank">
         <img class="button" src="break free alt2-01.png" alt="break free" />
        </a>
    </div>
	<div class="layer5">
        <a href="https://distrokid.com/hyperfollow/petvolcano/on-a-sunny-day" aria-label="Listen to the song 'On a Sunny Day'" target="_blank">
          <img class="button" src="bit o sunny day-01.png" alt="sunny day" />
        </a>
    </div>
	<div class="layer5">
        <a href="https://distrokid.com/hyperfollow/petvolcano/the-zombie-twist" aria-label="Listen to the song 'The Zombie Twist'" target="_blank">
        	<img class="button" src="zombie twist art.png" alt="zombie twist" />
        </a>
    </div>
	<div class="layer5">
        <img src="ampeg1.png" alt="ampgeg" />
    </div>
</div>
</div>

<div class="content-section" id="contents">
    
    <!-- The initial content div that gets replaced -->
    <div id="dynamic-content"></div> <!-- Initial content (preloaded with Home) -->
    <div id="dates-content"></div> <!-- Div for dynamically loaded content for Dates -->
    <div id="store-content"></div> <!-- Div for dynamically loaded content for Store -->
    <div id="about-content"></div> <!-- Div for dynamically loaded content for About -->
</div>
	<div class="social-media-links">
        <a href="https://facebook.com/petvolcano" target="_blank" class="social-icon"><img src="facebook-icon.png" alt="Facebook"></a>
        <a href="https://instagram.com/petvolcanoband" target="_blank" class="social-icon"><img src="instagram-icon.png" alt="Instagram"></a>
    </div>
<div class="navbar">
    <a href="#home" id="scroll-to-top"><span>&#8593;</span>Home</a>
    <a href="#music" id="music-page"><span>&#8593;</span>Stream</a>
    <a href="#dates"><span>&#8593;</span>Dates</a>
    <a href="#store"><span>&#8593;</span>Store</a>
    <a href="#about"><span>&#8593;</span>About</a>
</div>
	
<footer>
    <p class="small-text">
        &copy; 2025 Pet Volcano. All rights reserved.
    </p><p>
</footer>

<!-- JavaScript Section -->
<script>
window.addEventListener('load', () => {
    // Function to load content into dynamic-content div
    function loadContent(url, targetId, scroll = true) {
        const target = document.getElementById(targetId); // Target div where content will be inserted
        target.innerHTML = ''; // Clear existing content

        fetch(url)
            .then((response) => {
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
                return response.text();
            })
            .then((html) => {
                target.innerHTML = html; // Replace the content in the target div

                // Smooth scroll to bring the content into view
                if (scroll) {
                    target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }

                // After content loads, re-attach any dynamic event listeners
                initializeScript();
            })
            .catch((error) => {
                console.error(`Error fetching ${url}:`, error);
                target.innerHTML = '<p>Failed to load content. Please try again later.</p>';
            });
    }

    // Load the home.html content initially when the page loads
    loadContent('home.html', 'dynamic-content', false);

    // Smooth scroll for the Home link in the navbar
    document.querySelector('a[href="#home"]').addEventListener('click', function (e) {
        e.preventDefault(); // Prevent default anchor behavior

        // Reload the home.html content
        loadContent('home.html', 'dynamic-content', false);

        // Smooth scroll back to the top
        setTimeout(() => {
            const target = document.querySelector('#home');
            if (target) {
                target.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
        }, 100); // Slight delay to ensure smooth scrolling works
    });

    // Smooth scroll for the static "scroll-to-hiding" button
    document.getElementById('scroll-to-hiding').addEventListener('click', function (e) {
        e.preventDefault(); // Prevent default behavior

        // Smooth scroll to #zombride
        const target = document.querySelector('#zombride');
        if (target) {
            setTimeout(() => {
                target.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }, 1000); // 1-second delay
        }
    });

    // Add event delegation for "scroll-to-hiding2" in dynamically loaded content
    document.getElementById('dynamic-content').addEventListener('click', function (e) {
        const clickedElement = e.target;

        // Check if the clicked element is the button or its child (e.g., the img inside the button)
        if (clickedElement.id === 'scroll-to-hiding2' || clickedElement.closest('#scroll-to-hiding2')) {
            e.preventDefault(); // Prevent default behavior

            // Smooth scroll to #zombride
            const target = document.querySelector('#zombride');
            if (target) {
                target.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
        }
    });

    // Generalized navbar link handling for dynamically loaded content
    document.querySelectorAll('.navbar a').forEach((navLink) => {
        const targetId = navLink.getAttribute('href').substring(1); // Extract target ID
        if (targetId && targetId !== 'home') {
            navLink.addEventListener('click', function (e) {
                e.preventDefault(); // Prevent default behavior
                loadContent(`${targetId}.html`, 'dynamic-content'); // Load the corresponding content
            });
        }
    });

    // Flame layer hover effect
    function initializeScript() {
        const button = document.querySelector('.button button');
        const layer3Image = document.getElementById('layer3');

        if (button && layer3Image) { // Make sure elements exist before attaching events
            button.addEventListener('mouseenter', () => {
                layer3Image.src = 'flamelayer.png';
            });

            button.addEventListener('mouseleave', () => {
                layer3Image.src = 'image3.gif';
            });
        }
    }

function initializeCarousel() {
    const carouselSlide = document.querySelector('.carousel-slide');
    const carouselImages = document.querySelectorAll('.carousel-slide img');

    if (!carouselSlide || !carouselImages.length) return; // Check if elements exist

    const prevBtn = document.querySelector('#prevBtn');
    const nextBtn = document.querySelector('#nextBtn');

    let counter = 1;
    const size = carouselImages[0].clientWidth;

    carouselSlide.style.transform = 'translateX(' + -size * counter + 'px)';

    nextBtn?.addEventListener('click', () => {
        carouselSlide.style.transition = 'transform 0.4s ease-in-out';
        counter++;
        if (counter >= carouselImages.length - 1) counter = 0;
        carouselSlide.style.transform = 'translateX(' + -size * counter + 'px)';
    });

    prevBtn?.addEventListener('click', () => {
        carouselSlide.style.transition = 'transform 0.4s ease-in-out';
        counter--;
        if (counter < 0) counter = carouselImages.length - 2;
        carouselSlide.style.transform = 'translateX(' + -size * counter + 'px)';
    });
}

// Update loadContent to include carousel initialization
function loadContent(url, targetId, scroll = true) {
    const target = document.getElementById(targetId); // Target div where content will be inserted
    target.innerHTML = ''; // Clear existing content

    fetch(url)
        .then((response) => {
            if (!response.ok) {
                throw new Error('Network response was not ok');
            }
            return response.text();
        })
        .then((html) => {
            target.innerHTML = html; // Replace the content in the target div

            // Smooth scroll to bring the content into view
            if (scroll) {
                target.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }

            // Reinitialize carousel after dynamic content is loaded
            initializeCarousel();
        })
        .catch((error) => {
            console.error(`Error fetching ${url}:`, error);
            target.innerHTML = '<p>Failed to load content. Please try again later.</p>';
        });
}


    // Initialize the carousel
    initializeCarousel();
});

</script>



</body>
</html>
